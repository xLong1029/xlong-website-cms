{"version":3,"sources":["webpack:///static/js/25.5b22d6ec5f860a3ea19a.js","webpack:///./src/pages/Profile/ChangePwd.vue","webpack:///./src/common/common.js?17e8********************","webpack:///./src/common/validate.js?611e*****","webpack:///./src/api/profile.js?57f6","webpack:///ChangePwd.vue","webpack:///./src/pages/Profile/ChangePwd.vue?3e57"],"names":["webpackJsonp","535","module","exports","__webpack_require__","Component","541","__webpack_exports__","_regUserName$regCompa","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_defineProperty__","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_defineProperty___default","n","__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_typeof__","__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_typeof___default","regUserName","regCompanyName","regRealName","regUscCode","regBankAccount","regPostCode","regEmail","Date","dateOne","dateTwo","console","end","start","date","year","event","require","element","document","554","__WEBPACK_IMPORTED_MODULE_0__common_js__","ValidPassword","password","callback","Error","Common","ValidPwdCheck","pwdCheck","ValidBirthDate","birhtDate","nowDate","ValidProvince","province","ValidAgreement","ValidCode","ValidUserName","ValidUserType","ValidRangeDate","required","startDate","endDate","611","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise__","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise___default","__WEBPACK_IMPORTED_MODULE_1_utils_request_js__","GetUserInfo","request","res","resolve","err","reject","EditProfile","ChangePwd","647","Object","defineProperty","value","__WEBPACK_IMPORTED_MODULE_0_common_validate_js__","__WEBPACK_IMPORTED_MODULE_1_api_profile_js__","712","render","_vm","this","_h","$createElement","_c","_self","staticClass","staticStyle","ref","attrs","editForm","validate","model","$$v","$set","expression","_v","on","$event","submit","staticRenderFns"],"mappings":"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","file":"static/js/25.5b22d6ec5f860a3ea19a.js","sourcesContent":["webpackJsonp([25],{\n\n/***/ 535:\n/***/ (function(module, exports, __webpack_require__) {\n\nvar Component = __webpack_require__(207)(\n  /* script */\n  __webpack_require__(647),\n  /* template */\n  __webpack_require__(712),\n  /* styles */\n  null,\n  /* scopeId */\n  null,\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n\n/***/ 541:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_defineProperty__ = __webpack_require__(210);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_defineProperty___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_defineProperty__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_typeof__ = __webpack_require__(211);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_typeof___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_typeof__);\n\n\n\nvar _regUserName$regCompa;\n\n/*\r\n * 功能 : 封装通用常量与公共方法\r\n * 作者 : 罗永梅（381612175@qq.com）\r\n * 日期 : 2017-8-31\r\n * 版本 : version 1.0\r\n */\n/* harmony default export */ __webpack_exports__[\"a\"] = (_regUserName$regCompa = {\n    /* 通用正则表达式 */\n    regUserName: /^(?![a-zA-Z]+$)[a-zA-Z][a-zA-Z0-9]{5,15}$/,\n    // 企业单位名称\n    regCompanyName: /^[\\u4E00-\\u9FA5a-zA-Z]((?![·\\.\\(\\)（）]{2,4})([\\u4E00-\\u9FA5a-zA-Z·\\.\\(\\)（）])){0,98}[\\u4E00-\\u9FA5]$/,\n    // 真实姓名\n    regRealName: /^[\\u4E00-\\u9FA5](([\\u4E00-\\u9FA5]|·(?!·))){0,18}[\\u4E00-\\u9FA5]$/,\n    // 统一社会信用代码\n    regUscCode: /^[0-9A-ZW]{18}$/,\n    // 银行账户\n    regBankAccount: /^[1-9]\\d{7,25}$/,\n    // 邮政编码正则表达式\n    regPostCode: /^[1-9]\\d{5}$/,\n    // 邮箱正则表达式\n    regEmail: /^[\\.a-zA-Z0-9_-]+@[a-zA-Z0-9_-]+(\\.[a-zA-Z0-9_-]+)+$/\n}, __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_defineProperty___default()(_regUserName$regCompa, 'regCompanyName', /^[\\u4E00-\\u9FA5a-zA-Z]((?![·\\.\\(\\)（）]{2,4})([\\u4E00-\\u9FA5a-zA-Z·\\.\\(\\)（）])){0,98}[\\u4E00-\\u9FA5]$/), __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_defineProperty___default()(_regUserName$regCompa, 'regMobile', /^1(3|4|5|7|8)\\d{9}$/), __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_defineProperty___default()(_regUserName$regCompa, 'regPassword', /^[\\w]{6,12}$/), __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_defineProperty___default()(_regUserName$regCompa, 'regWebsite', /^[\\u4E00-\\u9FA5A\\w\\-_]+(\\.[\\u4E00-\\u9FA5A\\w\\-_]+)+([\\u4E00-\\u9FA5A\\w\\-\\.,@?^=%&amp;:/~\\+#]*[\\u4E00-\\u9FA5A\\w\\-\\@?^=%&amp;/~\\+#])?/), __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_defineProperty___default()(_regUserName$regCompa, 'regPhone', /^(1\\d{10}$)|(((400)-(\\d{3})-(\\d{4}))|^((\\d{7,8})|(\\d{4}|\\d{3})-(\\d{7,8})|(\\d{4}|\\d{3})-(\\d{3,7,8})-(\\d{4}|\\d{3}|\\d{2}|\\d{1})|(\\d{7,8})-(\\d{4}|\\d{3}|\\d{2}|\\d{1}))$)$/), __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_defineProperty___default()(_regUserName$regCompa, 'regWebsite', /^(http|https):\\/\\/[\\u4E00-\\u9FA5A\\w\\-_]+(\\.[\\u4E00-\\u9FA5A\\w\\-_]+)+([\\u4E00-\\u9FA5A\\w\\-\\.,@?^=%&amp;:/~\\+#]*[\\u4E00-\\u9FA5A\\w\\-\\@?^=%&amp;/~\\+#])?/), __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_defineProperty___default()(_regUserName$regCompa, 'CompareDate', function CompareDate(dateOne, dateTwo) {\n    // 字符串\n    if (typeof dateOne == 'string' && typeof dateTwo == 'string') {\n        return new Date(dateOne.replace(/-/g, \"\\/\")) <= new Date(dateTwo.replace(/-/g, \"\\/\"));\n    }\n    // DATE对象\n    else if ((typeof dateOne === 'undefined' ? 'undefined' : __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_typeof___default()(dateOne)) == 'object' && (typeof dateTwo === 'undefined' ? 'undefined' : __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_typeof___default()(dateTwo)) == 'object') return dateOne <= dateTwo;else {\n            console.log('日期比较格式不统一');\n            return false;\n        }\n}), __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_defineProperty___default()(_regUserName$regCompa, 'SetDate', function SetDate(type) {\n    var end = new Date();\n    var start = new Date();\n    switch (type) {\n        case 1:\n            {\n                start.setTime(start.getTime() - 3600 * 1000 * 24 * 7);\n                return [start, end];\n            }\n        case 2:\n            {\n                start.setTime(start.getTime() - 3600 * 1000 * 24 * 30);\n                return [start, end];\n            }\n        case 3:\n            {\n                start.setTime(start.getTime() - 3600 * 1000 * 24 * 90);\n                return [start, end];\n            }\n        default:\n            console.log('get pic error');return false;\n    }\n}), __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_defineProperty___default()(_regUserName$regCompa, 'FormatDate', function FormatDate(date) {\n    if (!date) return;\n    if (typeof date == 'string' && date.indexOf('-') != -1) return date;else {\n        var year = date.getFullYear();\n        var month = date.getMonth() + 1;\n        var day = date.getDate();\n        var hour = date.getHours() > 9 ? date.getHours() : '0' + date.getHours();\n        var minute = date.getMinutes() > 9 ? date.getMinutes() : '0' + date.getMinutes();\n        var second = date.getSeconds() > 9 ? date.getSeconds() : '0' + date.getSeconds();\n        return year + \"-\" + month + \"-\" + day + ' ' + hour + ':' + minute + ':' + second;\n    }\n}), __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_defineProperty___default()(_regUserName$regCompa, 'SetDefaultPic', function SetDefaultPic(event, type) {\n    switch (type) {\n        case 1:\n            event.currentTarget.src = __webpack_require__(212);break;\n        case 2:\n            event.currentTarget.src = __webpack_require__(213);break;\n        default:\n            console.log('get pic error');return false;\n    }\n    //控制不要一直跳动\n    event.currentTarget.onerror = null;\n}), __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_defineProperty___default()(_regUserName$regCompa, 'LaunchFullScreen', function LaunchFullScreen(element) {\n    if (element.requestFullscreen) element.requestFullscreen();else if (element.mozRequestFullScreen) element.mozRequestFullScreen();else if (element.webkitRequestFullscreen) element.webkitRequestFullscreen();else if (element.msRequestFullscreen) element.msRequestFullscreen();\n}), __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_defineProperty___default()(_regUserName$regCompa, 'ExitFullscreen', function ExitFullscreen() {\n    if (document.exitFullscreen) document.exitFullscreen();else if (document.mozCancelFullScreen) document.mozCancelFullScreen();else if (document.webkitExitFullscreen) document.webkitExitFullscreen();\n}), _regUserName$regCompa);\n\n/***/ }),\n\n/***/ 554:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__common_js__ = __webpack_require__(541);\n/*\r\n * 功能 : 封装与iView框架相关的表单验证方法\r\n * 作者 : 罗永梅（381612175@qq.com）\r\n * 日期 : 2017-10-25\r\n * 版本 : version 2.0\r\n */\n\n\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n    // 验证密码\n    ValidPassword: function ValidPassword(password, callback, required) {\n        // 密码为空\n        if (password == '') {\n            // 若必填\n            if (required) return callback(new Error('密码不能为空'));else return callback();\n        } else {\n            if (!__WEBPACK_IMPORTED_MODULE_0__common_js__[\"a\" /* default */].regPassword.test(password)) return callback(new Error('密码格式为6-12位，字母、数字和下划线的组合'));else return callback();\n        }\n    },\n    // 验证确认密码\n    ValidPwdCheck: function ValidPwdCheck(password, pwdCheck, callback, required) {\n        // 确认密码为空\n        if (pwdCheck == '') {\n            // 若必填\n            if (required) return callback(new Error('确认密码不能为空'));else {\n                if (password != '') return callback(new Error('确认密码不能为空'));else return callback();\n            }\n        } else {\n            if (password != pwdCheck) {\n                return callback(new Error('两次输入密码不一致'));\n            } else return callback();\n        }\n    },\n    // 验证出生日期\n    ValidBirthDate: function ValidBirthDate(birhtDate, callback, required) {\n        // 出生日期为空\n        if (birhtDate == '') {\n            // 若必填\n            if (required) return callback(new Error('出生日期不能为空'));else return callback();\n        } else {\n            var nowDate = new Date();\n            var compare = __WEBPACK_IMPORTED_MODULE_0__common_js__[\"a\" /* default */].CompareDate(birhtDate, nowDate);\n            if (!compare) return callback(new Error('出生日期不能大于当前日期'));else return callback();\n        }\n    },\n    // 验证所在省市\n    ValidProvince: function ValidProvince(province, callback, required) {\n        // 若必填\n        if (required) {\n            // 省份为空\n            if (province == '') {\n                return callback(new Error('所在省份不能为空'));\n            } else return callback();\n        } else return callback();\n    },\n    // 验证是否同意协议\n    ValidAgreement: function ValidAgreement(agerrment, errorText, callback, required) {\n        if (required) {\n            if (!agerrment) {\n                return callback(new Error(errorText));\n            } else return callback();\n        } else return callback();\n    },\n    // 验证验证码\n    ValidCode: function ValidCode(code, callback, required) {\n        if (required) {\n            if (!code) {\n                return callback(new Error('验证码不能为空'));\n            } else return callback();\n        } else return callback();\n    },\n    // 验证用户名\n    ValidUserName: function ValidUserName(userName, callback, required) {\n        if (required) {\n            if (!userName) {\n                return callback(new Error('用户名不能为空'));\n            } else if (!__WEBPACK_IMPORTED_MODULE_0__common_js__[\"a\" /* default */].regUserName.test(username)) {\n                return callback(new Error('用户名格式为以字母开头的6-16位字母和数字的组合'));\n            } else return callback();\n        } else return callback();\n    },\n    // 验证用户类型\n    ValidUserType: function ValidUserType(type, callback, required) {\n        if (required) {\n            if (!type) {\n                return callback(new Error('用户类型不能为空'));\n            } else return callback();\n        } else return callback();\n    },\n    // 验证日期范围选择\n    ValidRangeDate: function ValidRangeDate(startDate, endDate, callback, required) {\n        // 若必填\n        if (required && startDate == '') return callback(new Error('开始日期不能为空'));\n        if (required && endDate == '') return callback(new Error('结束日期不能为空'));else {\n            if (startDate) {\n                var nowDate = new Date();\n                var compare = __WEBPACK_IMPORTED_MODULE_0__common_js__[\"a\" /* default */].CompareDate(startDate, nowDate);\n\n                if (!compare) return callback(new Error('开始日期不能大于当前日期'));else {\n                    if (endDate) {\n                        var _compare = __WEBPACK_IMPORTED_MODULE_0__common_js__[\"a\" /* default */].CompareDate(startDate, endDate);\n                        if (!_compare) return callback(new Error('结束日期不能小于开始日期'));else return callback();\n                    } else return callback();\n                }\n            } else {\n                if (endDate) return callback(new Error('请选择开始日期'));else return callback();\n            }\n        }\n    }\n});\n\n/***/ }),\n\n/***/ 611:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise__ = __webpack_require__(75);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_utils_request_js__ = __webpack_require__(145);\n\n\n\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n\t// 获取用户信息\n\tGetUserInfo: function GetUserInfo(token) {\n\t\treturn new __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise___default.a(function (resolve, reject) {\n\t\t\t__WEBPACK_IMPORTED_MODULE_1_utils_request_js__[\"a\" /* default */].HttpGet('/api/WebsiteCms/UserService/Person/GetUserInfo?token=' + token).then(function (res) {\n\t\t\t\treturn resolve(res);\n\t\t\t}).catch(function (err) {\n\t\t\t\treturn reject(err);\n\t\t\t});\n\t\t});\n\t},\n\t// 修改个人资料\n\tEditProfile: function EditProfile(params) {\n\t\treturn new __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise___default.a(function (resolve, reject) {\n\t\t\t__WEBPACK_IMPORTED_MODULE_1_utils_request_js__[\"a\" /* default */].HttpPost('/api/WebsiteCms/UserService/Person/EditProfile', params).then(function (res) {\n\t\t\t\treturn resolve(res);\n\t\t\t}).catch(function (err) {\n\t\t\t\treturn reject(err);\n\t\t\t});\n\t\t});\n\t},\n\t// 修改密码\n\tChangePwd: function ChangePwd(params) {\n\t\treturn new __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise___default.a(function (resolve, reject) {\n\t\t\t__WEBPACK_IMPORTED_MODULE_1_utils_request_js__[\"a\" /* default */].HttpPost('/api/WebsiteCms/UserService/Person/ChangePwd', params).then(function (res) {\n\t\t\t\treturn resolve(res);\n\t\t\t}).catch(function (err) {\n\t\t\t\treturn reject(err);\n\t\t\t});\n\t\t});\n\t}\n});\n\n/***/ }),\n\n/***/ 647:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_common_validate_js__ = __webpack_require__(554);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_api_profile_js__ = __webpack_require__(611);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_vuex__ = __webpack_require__(215);\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n// 验证方法\n\n// Api方法\n\n// Vuex\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n    data: function data() {\n        var _this = this;\n\n        return {\n            // 表单信息\n            editForm: {\n                // 旧密码\n                oldPassword: '',\n                // 新密码\n                newPassword: '',\n                // 确认密码\n                passwdCheck: ''\n            },\n            // 验证规则\n            validate: {\n                oldPassword: [{\n                    validator: function validator(rule, value, callback) {\n                        __WEBPACK_IMPORTED_MODULE_0_common_validate_js__[\"a\" /* default */].ValidPassword(value, callback, true);\n                    },\n                    trigger: 'blur',\n                    required: true\n                }],\n                newPassword: [{\n                    validator: function validator(rule, value, callback) {\n                        __WEBPACK_IMPORTED_MODULE_0_common_validate_js__[\"a\" /* default */].ValidPassword(value, callback, true);\n                    },\n                    trigger: 'blur',\n                    required: true\n                }],\n                passwdCheck: [{\n                    validator: function validator(rule, value, callback) {\n                        __WEBPACK_IMPORTED_MODULE_0_common_validate_js__[\"a\" /* default */].ValidPwdCheck(_this.editForm.newPassword, value, callback, true);\n                    },\n                    trigger: 'blur',\n                    required: true\n                }]\n            }\n        };\n    },\n    created: function created() {\n        this.init();\n    },\n\n    methods: {\n        // 初始化页面\n        init: function init() {\n            // 设置面包屑路径\n            this.$store.commit('SET_BREADCRUMB', [{ name: '修改密码', path: '/ChangePwd' }]);\n        },\n\n        // 提交表单\n        submit: function submit(form) {\n            var _this2 = this;\n\n            this.$refs[form].validate(function (valid) {\n                if (valid) {\n                    if (_this2.editForm.oldPassword == _this2.editForm.newPassword) {\n                        _this2.$Message.error('旧密码和新密码不能相同');\n                    } else {\n                        __WEBPACK_IMPORTED_MODULE_1_api_profile_js__[\"a\" /* default */].ChangePwd(_this2.editForm).then(function (res) {\n                            if (res.code == 200) {\n                                // 登出 action方法\n                                _this2.$store.dispatch('LogOut').then(function (res) {\n                                    _this2.$Message.success('密码修改成功！请重新登录');\n                                    _this2.$router.push({ name: 'Login' });\n                                }).catch(function (err) {\n                                    return console.log(err);\n                                });\n                            } else _this2.$Message.warning(res.msg);\n                        }).catch(function (err) {\n                            return _this2.$Message.error('密码修改失败');\n                        });\n                    }\n                } else _this2.$Message.error('提交失败！填写有误');\n            });\n        }\n    }\n});\n\n/***/ }),\n\n/***/ 712:\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"g-content\"\n  }, [_c('div', {\n    staticStyle: {\n      \"width\": \"500px\"\n    }\n  }, [_c('Form', {\n    ref: \"editForm\",\n    attrs: {\n      \"model\": _vm.editForm,\n      \"rules\": _vm.validate,\n      \"label-width\": 100\n    }\n  }, [_c('Form-item', {\n    attrs: {\n      \"prop\": \"oldPassword\",\n      \"label\": \"旧密码：\"\n    }\n  }, [_c('Input', {\n    attrs: {\n      \"type\": \"password\",\n      \"placeholder\": \"请输入旧密码\"\n    },\n    model: {\n      value: (_vm.editForm.oldPassword),\n      callback: function($$v) {\n        _vm.$set(_vm.editForm, \"oldPassword\", $$v)\n      },\n      expression: \"editForm.oldPassword\"\n    }\n  })], 1), _vm._v(\" \"), _c('Form-item', {\n    attrs: {\n      \"prop\": \"newPassword\",\n      \"label\": \"新密码：\"\n    }\n  }, [_c('Input', {\n    attrs: {\n      \"type\": \"password\",\n      \"placeholder\": \"请输入新密码（6-12位字母和数字的组合）\"\n    },\n    model: {\n      value: (_vm.editForm.newPassword),\n      callback: function($$v) {\n        _vm.$set(_vm.editForm, \"newPassword\", $$v)\n      },\n      expression: \"editForm.newPassword\"\n    }\n  })], 1), _vm._v(\" \"), _c('Form-item', {\n    attrs: {\n      \"prop\": \"passwdCheck\",\n      \"label\": \"确认密码：\"\n    }\n  }, [_c('Input', {\n    attrs: {\n      \"type\": \"password\",\n      \"placeholder\": \"请输入确认密码\"\n    },\n    model: {\n      value: (_vm.editForm.passwdCheck),\n      callback: function($$v) {\n        _vm.$set(_vm.editForm, \"passwdCheck\", $$v)\n      },\n      expression: \"editForm.passwdCheck\"\n    }\n  })], 1), _vm._v(\" \"), _c('Form-item', [_c('Button', {\n    attrs: {\n      \"type\": \"primary\"\n    },\n    on: {\n      \"click\": function($event) {\n        return _vm.submit('editForm')\n      }\n    }\n  }, [_vm._v(\"确认修改\")])], 1)], 1)], 1)])\n},staticRenderFns: []}\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// static/js/25.5b22d6ec5f860a3ea19a.js","var Component = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./ChangePwd.vue\"),\n  /* template */\n  require(\"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-36c4da25\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./ChangePwd.vue\"),\n  /* styles */\n  null,\n  /* scopeId */\n  null,\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/Profile/ChangePwd.vue\n// module id = 535\n// module chunks = 25","/*\r\n * 功能 : 封装通用常量与公共方法\r\n * 作者 : 罗永梅（381612175@qq.com）\r\n * 日期 : 2017-8-31\r\n * 版本 : version 1.0\r\n */\r\nexport default {\r\n    /* 通用正则表达式 */\r\n    regUserName: /^(?![a-zA-Z]+$)[a-zA-Z][a-zA-Z0-9]{5,15}$/,\r\n    // 企业单位名称\r\n    regCompanyName: /^[\\u4E00-\\u9FA5a-zA-Z]((?![·\\.\\(\\)（）]{2,4})([\\u4E00-\\u9FA5a-zA-Z·\\.\\(\\)（）])){0,98}[\\u4E00-\\u9FA5]$/,\r\n    // 真实姓名\r\n    regRealName: /^[\\u4E00-\\u9FA5](([\\u4E00-\\u9FA5]|·(?!·))){0,18}[\\u4E00-\\u9FA5]$/,\r\n    // 统一社会信用代码\r\n    regUscCode: /^[0-9A-ZW]{18}$/,\r\n    // 银行账户\r\n    regBankAccount: /^[1-9]\\d{7,25}$/,\r\n    // 邮政编码正则表达式\r\n    regPostCode: /^[1-9]\\d{5}$/,\r\n    // 邮箱正则表达式\r\n    regEmail: /^[\\.a-zA-Z0-9_-]+@[a-zA-Z0-9_-]+(\\.[a-zA-Z0-9_-]+)+$/,\r\n    // 企业单位名称\r\n    regCompanyName: /^[\\u4E00-\\u9FA5a-zA-Z]((?![·\\.\\(\\)（）]{2,4})([\\u4E00-\\u9FA5a-zA-Z·\\.\\(\\)（）])){0,98}[\\u4E00-\\u9FA5]$/,\r\n    // 手机号正则表达式\r\n    regMobile: /^1(3|4|5|7|8)\\d{9}$/,\r\n    // 手机号正则表达式\r\n    regPassword: /^[\\w]{6,12}$/,\r\n    // 网站地址正则表达式\r\n    regWebsite: /^[\\u4E00-\\u9FA5A\\w\\-_]+(\\.[\\u4E00-\\u9FA5A\\w\\-_]+)+([\\u4E00-\\u9FA5A\\w\\-\\.,@?^=%&amp;:/~\\+#]*[\\u4E00-\\u9FA5A\\w\\-\\@?^=%&amp;/~\\+#])?/,\r\n    // 普通电话(包含手机和座机)正则表达式\r\n    regPhone: /^(1\\d{10}$)|(((400)-(\\d{3})-(\\d{4}))|^((\\d{7,8})|(\\d{4}|\\d{3})-(\\d{7,8})|(\\d{4}|\\d{3})-(\\d{3,7,8})-(\\d{4}|\\d{3}|\\d{2}|\\d{1})|(\\d{7,8})-(\\d{4}|\\d{3}|\\d{2}|\\d{1}))$)$/,\r\n    // 网址\r\n    regWebsite: /^(http|https):\\/\\/[\\u4E00-\\u9FA5A\\w\\-_]+(\\.[\\u4E00-\\u9FA5A\\w\\-_]+)+([\\u4E00-\\u9FA5A\\w\\-\\.,@?^=%&amp;:/~\\+#]*[\\u4E00-\\u9FA5A\\w\\-\\@?^=%&amp;/~\\+#])?/,\r\n\r\n    /* 公共方法 */\r\n    // 比较日期大小\r\n    CompareDate: (dateOne, dateTwo) => {\r\n        // 字符串\r\n        if(typeof(dateOne) == 'string' && typeof(dateTwo) == 'string'){\r\n            return ((new Date(dateOne.replace(/-/g,\"\\/\"))) <= (new Date(dateTwo.replace(/-/g,\"\\/\"))));\r\n        }\r\n        // DATE对象\r\n        else if(typeof(dateOne) == 'object' && typeof(dateTwo) == 'object') return (dateOne <= dateTwo);\r\n        else {\r\n            console.log('日期比较格式不统一');\r\n            return false;\r\n        }\r\n    },\r\n    // 设置时间\r\n    // type：1 最近一周，2 最近一个月，3 最近三个月\r\n    SetDate: (type) => {\r\n        const end = new Date();\r\n        const start = new Date();        \r\n        switch(type){\r\n            case 1: {\r\n                start.setTime(start.getTime() - 3600 * 1000 * 24 * 7);\r\n                return [start, end];\r\n            }\r\n            case 2:{\r\n                start.setTime(start.getTime() - 3600 * 1000 * 24 * 30);\r\n                return [start, end];\r\n            }\r\n            case 3:{\r\n                start.setTime(start.getTime() - 3600 * 1000 * 24 * 90);\r\n                return [start, end];\r\n            }\r\n            default: console.log('get pic error'); return false;\r\n        }\r\n    },\r\n    // 时间格式化\r\n    FormatDate: (date) => {\r\n        if(!date) return;\r\n        if(typeof date =='string' && date.indexOf('-') != -1) return date;\r\n        else{\r\n            let year = date.getFullYear(); \r\n            let month = date.getMonth() + 1; \r\n            let day = date.getDate(); \r\n            let hour = date.getHours() > 9 ? date.getHours() : '0' + date.getHours(); \r\n            let minute = date.getMinutes() > 9 ? date.getMinutes() : '0' + date.getMinutes();\r\n            let second = date.getSeconds() > 9 ? date.getSeconds() : '0' + date.getSeconds(); \r\n            return year + \"-\" + month + \"-\" + day + ' ' + hour + ':' + minute + ':' + second; \r\n        }        \r\n    },\r\n    // 设置默认图片\r\n    // type：1 显示默认头像，2 显示暂无图片\r\n    SetDefaultPic: (event, type) => {\r\n        switch(type){\r\n            case 1: event.currentTarget.src = require('assets/images/default-face.jpg'); break;\r\n            case 2: event.currentTarget.src = require('assets/images/no-found-pic.jpg'); break;\r\n            default: console.log('get pic error'); return false;\r\n        }\r\n        //控制不要一直跳动\r\n        event.currentTarget.onerror = null;\r\n    },\r\n    // 启动全屏\r\n    LaunchFullScreen: (element) => {\r\n        if(element.requestFullscreen) element.requestFullscreen();\r\n        else if(element.mozRequestFullScreen) element.mozRequestFullScreen();\r\n        else if(element.webkitRequestFullscreen) element.webkitRequestFullscreen();\r\n        else if(element.msRequestFullscreen) element.msRequestFullscreen();\r\n    },\r\n    // 退出全屏\r\n    ExitFullscreen: () => {\r\n        if(document.exitFullscreen) document.exitFullscreen();\r\n        else if(document.mozCancelFullScreen) document.mozCancelFullScreen();\r\n        else if(document.webkitExitFullscreen) document.webkitExitFullscreen();\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/common/common.js","/*\r\n * 功能 : 封装与iView框架相关的表单验证方法\r\n * 作者 : 罗永梅（381612175@qq.com）\r\n * 日期 : 2017-10-25\r\n * 版本 : version 2.0\r\n */\r\nimport Common from './common.js'\r\n\r\nexport default {\r\n    // 验证密码\r\n    ValidPassword: (password, callback, required) => {\r\n        // 密码为空\r\n        if(password == ''){\r\n            // 若必填\r\n            if(required) return callback(new Error('密码不能为空'));\r\n            else return callback();\r\n        }\r\n        else{           \r\n            if(!Common.regPassword.test(password)) return callback(new Error('密码格式为6-12位，字母、数字和下划线的组合'));\r\n            else return callback();\r\n        }\r\n    },\r\n    // 验证确认密码\r\n    ValidPwdCheck: (password, pwdCheck, callback, required) => {\r\n        // 确认密码为空\r\n        if(pwdCheck == ''){\r\n            // 若必填\r\n            if(required) return callback(new Error('确认密码不能为空'));\r\n            else {                \r\n                if(password != '') return callback(new Error('确认密码不能为空'));\r\n                else return callback();\r\n            }\r\n        }\r\n        else{\r\n            if(password != pwdCheck){\r\n                return callback(new Error('两次输入密码不一致'));\r\n            }\r\n            else return callback();\r\n        }\r\n    },\r\n    // 验证出生日期\r\n    ValidBirthDate: (birhtDate, callback, required) => {\r\n        // 出生日期为空\r\n        if(birhtDate == ''){\r\n            // 若必填\r\n            if(required) return callback(new Error('出生日期不能为空'));\r\n            else return callback();\r\n        }\r\n        else{\r\n            let nowDate = new Date();\r\n            const compare = Common.CompareDate(birhtDate, nowDate);\r\n            if (!compare) return callback(new Error('出生日期不能大于当前日期'));\r\n            else return callback();\r\n        }\r\n    },\r\n    // 验证所在省市\r\n    ValidProvince: (province, callback, required) => {\r\n        // 若必填\r\n        if(required){\r\n            // 省份为空\r\n            if(province == ''){\r\n                return callback(new Error('所在省份不能为空'));\r\n            }\r\n            else return callback();\r\n        }\r\n        else return callback();\r\n    },\r\n    // 验证是否同意协议\r\n    ValidAgreement: (agerrment, errorText, callback, required) => {\r\n        if(required){\r\n            if (!agerrment) {\r\n                return callback(new Error(errorText));\r\n            }\r\n            else return callback();\r\n        }\r\n        else return callback();       \r\n    },\r\n    // 验证验证码\r\n    ValidCode: (code, callback, required) => {\r\n        if(required){\r\n            if(!code){\r\n                return callback(new Error('验证码不能为空'));\r\n            }\r\n            else return callback(); \r\n        }\r\n        else return callback();       \r\n    },\r\n    // 验证用户名\r\n    ValidUserName: (userName, callback, required) => {\r\n        if(required){\r\n            if(!userName){\r\n                return callback(new Error('用户名不能为空'));\r\n            }\r\n            else if (!Common.regUserName.test(username)) {\r\n                return callback(new Error('用户名格式为以字母开头的6-16位字母和数字的组合'));\r\n            }\r\n            else return callback(); \r\n        }\r\n        else return callback();       \r\n    },\r\n    // 验证用户类型\r\n    ValidUserType: (type, callback, required) => {\r\n        if(required){\r\n            if(!type){\r\n                return callback(new Error('用户类型不能为空'));\r\n            }\r\n            else return callback(); \r\n        }\r\n        else return callback();       \r\n    },\r\n    // 验证日期范围选择\r\n    ValidRangeDate: (startDate, endDate, callback, required) => {\r\n        // 若必填\r\n        if(required && startDate == '') return callback(new Error('开始日期不能为空'));\r\n        if(required && endDate == '') return callback(new Error('结束日期不能为空'));\r\n        else{\r\n            if(startDate){\r\n                let nowDate = new Date();\r\n                const compare = Common.CompareDate(startDate, nowDate);\r\n                \r\n                if (!compare) return callback(new Error('开始日期不能大于当前日期'));\r\n                else{\r\n                    if(endDate){\r\n                        const compare = Common.CompareDate(startDate, endDate);\r\n                        if (!compare) return callback(new Error('结束日期不能小于开始日期'));\r\n                        else return callback(); \r\n                    }\r\n                    else return callback(); \r\n                }\r\n            }\r\n            else{\r\n                if(endDate) return callback(new Error('请选择开始日期'));\r\n                else return callback();\r\n            }\r\n        } \r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/common/validate.js","import request from 'utils/request.js'\r\n\r\nexport default {\r\n    // 获取用户信息\r\n    GetUserInfo: (token) => {\r\n        return new Promise((resolve,reject)=>{\r\n\t\t\trequest.HttpGet(`/api/WebsiteCms/UserService/Person/GetUserInfo?token=${token}`)\r\n\t\t\t.then(res => resolve(res))\r\n\t\t\t.catch(err => reject(err))\r\n\t\t})\r\n    },\r\n    // 修改个人资料\r\n    EditProfile: (params) => {\r\n\t\treturn new Promise((resolve, reject) => {\r\n\t\t\trequest.HttpPost(`/api/WebsiteCms/UserService/Person/EditProfile`, params)\r\n\t\t\t.then(res => resolve(res))\r\n\t\t\t.catch(err => reject(err))\r\n\t\t})\r\n\t},\r\n    // 修改密码\r\n    ChangePwd: (params) => {\r\n        return new Promise((resolve,reject)=>{\r\n\t\t\trequest.HttpPost(`/api/WebsiteCms/UserService/Person/ChangePwd`, params)\r\n\t\t\t.then(res => resolve(res))\r\n\t\t\t.catch(err => reject(err))\r\n\t\t})\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/api/profile.js","<template>\r\n    <div class=\"g-content\">\r\n        <div style=\"width:500px;\">\r\n            <Form ref=\"editForm\" :model=\"editForm\" :rules=\"validate\" :label-width=\"100\">\r\n                <Form-item prop=\"oldPassword\" label=\"旧密码：\">\r\n                    <Input type=\"password\" v-model=\"editForm.oldPassword\" placeholder=\"请输入旧密码\"/>\r\n                </Form-item>\r\n                <Form-item prop=\"newPassword\" label=\"新密码：\">\r\n                    <Input type=\"password\" v-model=\"editForm.newPassword\" placeholder=\"请输入新密码（6-12位字母和数字的组合）\"/>\r\n                </Form-item>\r\n                <Form-item prop=\"passwdCheck\" label=\"确认密码：\">\r\n                    <Input type=\"password\" v-model=\"editForm.passwdCheck\" placeholder=\"请输入确认密码\"/>\r\n                </Form-item>\r\n                <Form-item>\r\n                    <Button type=\"primary\" @click=\"submit('editForm')\">确认修改</Button>\r\n                </Form-item>\r\n            </Form>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    // 验证方法\r\n\timport Validate from 'common/validate.js'\r\n\t// Api方法\r\n    import Api from 'api/profile.js'\r\n    // Vuex\r\n    import { mapGetters } from 'vuex'\r\n\r\n\texport default {\r\n\t\tdata(){\r\n\t\t\treturn {\r\n\t\t\t\t// 表单信息\r\n\t\t\t\teditForm:{\r\n                    // 旧密码\r\n                    oldPassword: '',\r\n\t\t\t\t\t// 新密码\r\n\t\t\t\t\tnewPassword: '',\r\n\t\t\t\t\t// 确认密码\r\n\t\t\t\t\tpasswdCheck: '',\r\n\t\t\t\t},\r\n\t\t\t\t// 验证规则\r\n\t\t\t\tvalidate: {\r\n                    oldPassword: [{\r\n                        validator: (rule, value, callback) => {\r\n                            Validate.ValidPassword(value, callback, true);\r\n                        },\r\n                        trigger: 'blur',\r\n                        required: true,\r\n                    }],\r\n                    newPassword:[{\r\n                        validator: (rule, value, callback) => {\r\n                            Validate.ValidPassword(value, callback, true);\r\n                        },\r\n                        trigger: 'blur',\r\n                        required: true,\r\n                    }],\r\n                    passwdCheck:[{\r\n                        validator: (rule, value, callback) => {\r\n                            Validate.ValidPwdCheck(this.editForm.newPassword, value, callback, true);\r\n                        },\r\n                        trigger: 'blur',\r\n                        required: true,\r\n                    }],\r\n                }\r\n\t\t\t}\r\n        },\r\n        created(){\r\n            this.init();\r\n        },\r\n        methods:{\r\n            // 初始化页面\r\n            init(){\r\n                // 设置面包屑路径\r\n                this.$store.commit('SET_BREADCRUMB', [\r\n                    { name: '修改密码', path: '/ChangePwd' }\r\n                ]);\r\n            },\r\n            // 提交表单\r\n            submit(form){\r\n                this.$refs[form].validate((valid) => {\r\n                    if (valid) {\r\n                        if(this.editForm.oldPassword == this.editForm.newPassword){\r\n                            this.$Message.error('旧密码和新密码不能相同');\r\n                        }\r\n                        else{\r\n                            Api.ChangePwd(this.editForm)\r\n                            .then(res => {\r\n                                if(res.code == 200){                                                            \r\n                                    // 登出 action方法\r\n                                    this.$store.dispatch('LogOut')\r\n                                    .then(res => {\r\n                                        this.$Message.success('密码修改成功！请重新登录');\r\n                                        this.$router.push({ name: 'Login' });\r\n                                    })\r\n                                    .catch(err => console.log(err))\r\n                                }\r\n                                else this.$Message.warning(res.msg);\r\n                            })\r\n                            .catch(err => this.$Message.error('密码修改失败'));\r\n                        }\r\n                    }\r\n                    else this.$Message.error('提交失败！填写有误');\r\n                })\r\n            },\r\n        }\r\n\t}\r\n</script>\r\n\n\n\n// WEBPACK FOOTER //\n// ChangePwd.vue?ac1ee238","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"g-content\"\n  }, [_c('div', {\n    staticStyle: {\n      \"width\": \"500px\"\n    }\n  }, [_c('Form', {\n    ref: \"editForm\",\n    attrs: {\n      \"model\": _vm.editForm,\n      \"rules\": _vm.validate,\n      \"label-width\": 100\n    }\n  }, [_c('Form-item', {\n    attrs: {\n      \"prop\": \"oldPassword\",\n      \"label\": \"旧密码：\"\n    }\n  }, [_c('Input', {\n    attrs: {\n      \"type\": \"password\",\n      \"placeholder\": \"请输入旧密码\"\n    },\n    model: {\n      value: (_vm.editForm.oldPassword),\n      callback: function($$v) {\n        _vm.$set(_vm.editForm, \"oldPassword\", $$v)\n      },\n      expression: \"editForm.oldPassword\"\n    }\n  })], 1), _vm._v(\" \"), _c('Form-item', {\n    attrs: {\n      \"prop\": \"newPassword\",\n      \"label\": \"新密码：\"\n    }\n  }, [_c('Input', {\n    attrs: {\n      \"type\": \"password\",\n      \"placeholder\": \"请输入新密码（6-12位字母和数字的组合）\"\n    },\n    model: {\n      value: (_vm.editForm.newPassword),\n      callback: function($$v) {\n        _vm.$set(_vm.editForm, \"newPassword\", $$v)\n      },\n      expression: \"editForm.newPassword\"\n    }\n  })], 1), _vm._v(\" \"), _c('Form-item', {\n    attrs: {\n      \"prop\": \"passwdCheck\",\n      \"label\": \"确认密码：\"\n    }\n  }, [_c('Input', {\n    attrs: {\n      \"type\": \"password\",\n      \"placeholder\": \"请输入确认密码\"\n    },\n    model: {\n      value: (_vm.editForm.passwdCheck),\n      callback: function($$v) {\n        _vm.$set(_vm.editForm, \"passwdCheck\", $$v)\n      },\n      expression: \"editForm.passwdCheck\"\n    }\n  })], 1), _vm._v(\" \"), _c('Form-item', [_c('Button', {\n    attrs: {\n      \"type\": \"primary\"\n    },\n    on: {\n      \"click\": function($event) {\n        return _vm.submit('editForm')\n      }\n    }\n  }, [_vm._v(\"确认修改\")])], 1)], 1)], 1)])\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-36c4da25\",\"hasScoped\":false,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"}}!./~/vue-loader/lib/selector.js?type=template&index=0!./src/pages/Profile/ChangePwd.vue\n// module id = 712\n// module chunks = 25"],"sourceRoot":""}