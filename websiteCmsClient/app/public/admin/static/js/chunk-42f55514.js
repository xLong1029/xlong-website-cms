(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-42f55514"],{"1f80":function(t,e,o){"use strict";o.r(e);var n=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"g-content"},[t.pageLoading?o("Loading"):o("div",[o("Form",{ref:"infoForm",attrs:{model:t.infoForm,rules:t.validate,"label-width":120}},[o("Form-item",{attrs:{label:"页面地址："}},[o("a",{attrs:{href:t.website+"/page/"+t.infoForm.name,target:"_blank"}},[t._v(t._s("/page/"+t.infoForm.name))])]),o("Form-item",{attrs:{label:"页面标题：",prop:"title"}},[o("Input",{attrs:{placeholder:"请输入页面标题"},model:{value:t.infoForm.title,callback:function(e){t.$set(t.infoForm,"title",e)},expression:"infoForm.title"}})],1),o("Form-item",{attrs:{label:"是否显示标题：",prop:"showTitle"}},[o("Radio-group",{model:{value:t.infoForm.showTitle,callback:function(e){t.$set(t.infoForm,"showTitle",e)},expression:"infoForm.showTitle"}},[o("Radio",{attrs:{label:1}},[t._v("是")]),o("Radio",{attrs:{label:0}},[t._v("否")])],1)],1),o("Form-item",{attrs:{label:"关键词："}},[t._l(t.infoForm.metaKeywords,(function(e,n){return o("Tag",{key:n,attrs:{name:e,closable:""},on:{"on-close":function(e){return t.removeKeyword(n)}}},[t._v(t._s(e))])})),o("Button",{attrs:{icon:"ios-add",type:"dashed",size:"small"},on:{click:function(e){return t.kwModelVisible(!0)}}},[t._v("添加关键词")])],2),o("Form-item",{attrs:{label:"页面描述："}},[o("Input",{attrs:{type:"textarea",rows:3,maxlength:200,placeholder:"请输入页面描述（不超过200个字符）"},model:{value:t.infoForm.metaDescription,callback:function(e){t.$set(t.infoForm,"metaDescription",e)},expression:"infoForm.metaDescription"}})],1),o("Form-item",{attrs:{label:"页面内容："}},[o("Tinymce",{attrs:{placeholder:"请输入页面内容",height:"500"},model:{value:t.infoForm.content,callback:function(e){t.$set(t.infoForm,"content",e)},expression:"infoForm.content"}})],1),o("div",{staticClass:"m-operation"},[o("Button",{staticClass:"fr",attrs:{type:"primary"},on:{click:function(e){return t.submit("infoForm")}}},[t._v("确认修改")]),o("Button",{staticClass:"fr",attrs:{type:"default"},on:{click:function(e){return t.$router.go(-1)}}},[t._v("返回")]),o("div",{staticClass:"clearfix"})],1)],1)],1),o("Modal",{attrs:{width:600,title:"添加关键词"},on:{"on-cancel":function(e){return t.kwModelVisible(!1)}},model:{value:t.kwModelShow,callback:function(e){t.kwModelShow=e},expression:"kwModelShow"}},[o("div",[o("Form",{ref:"kwModelForm",attrs:{model:t.kwModelForm,rules:t.validate,"label-width":80}},[o("Form-item",{attrs:{label:"关键词：",prop:"keyword"}},[o("Input",{attrs:{type:"textarea",placeholder:"请输入关键词"},model:{value:t.kwModelForm.keyword,callback:function(e){t.$set(t.kwModelForm,"keyword",e)},expression:"kwModelForm.keyword"}})],1),o("div",{staticClass:"hint"},[t._v('* 输入的关键词请以逗号" , "进行分隔')])],1)],1),o("div",{attrs:{slot:"footer"},slot:"footer"},[o("Button",{attrs:{type:"text"},on:{click:function(e){return t.kwModelVisible(!1)}}},[t._v("取消")]),o("Button",{attrs:{type:"primary"},on:{click:function(e){return t.addKeywords("kwModelForm")}}},[t._v("确认")])],1)])],1)},r=[],i=o("be51"),a=o("557c"),c=o("ed08"),s=o("b4b9"),l=o("676d"),u={components:{Loading:i["a"],Tinymce:a["a"]},mixins:[s["a"]],data:function(){var t=this;return{pageLoading:!0,website:"",articleId:"",infoForm:{name:"",title:"",metaKeywords:[],metaDescription:"",content:""},validate:{title:[{required:!0,message:"标题不能为空",trigger:"blur"}],keyword:[{required:!0,message:"关键词不能为空",trigger:"blur"}],showTitle:[{required:!0,validator:function(e,o,n){""===t.infoForm.showTitle||null===t.infoForm.showTitle||void 0===t.infoForm.showTitle?n("请选择是否显示标题"):n()},trigger:"change"}]}}},created:function(){var t=Object(c["l"])("id");this.articleId=t,this.$store.commit("common/SET_BREADCRUMB",[{name:"单页面管理",path:"/admin/PageContManage/List"},{name:"页面内容",path:""}]),this.getDetail();var e=!1;e&&(this.website="http://127.0.0.1:6060")},methods:{submit:function(t){var e=this;this.$refs[t].validate((function(t){t?(e.pageLoading=!0,e.infoForm.metaKeywords=Object(c["c"])(e.infoForm.metaKeywords,","),l["a"].EditPageCont(e.infoForm,e.articleId).then((function(t){e.pageLoading=!1,200==t.code?(e.$Message.success("修改成功"),e.getDetail()):e.$Message.warning(t.msg)})).catch((function(t){return console.log(t)}))):e.$Message.error("提交失败！填写有误")}))},getDetail:function(){var t=this;l["a"].GetDetail(this.articleId).then((function(e){t.pageLoading=!1,200==e.code?(t.infoForm=e.data,t.infoForm.metaKeywords=e.data.metaKeywords?Object(c["v"])(e.data.metaKeywords,","):[]):t.$Message.warning(e.msg)})).catch((function(t){return console.log(t)}))}}},d=u,f=(o("fbe3"),o("2877")),m=Object(f["a"])(d,n,r,!1,null,"934cece0",null);e["default"]=m.exports},"39c0":function(t,e,o){},"676d":function(t,e,o){"use strict";o("d3b7");var n=o("b775");e["a"]={GetList:function(t){return new Promise((function(e,o){n["a"].HttpGet("/api/WebsiteCms/ClientService/PageCont/GetPageContList",t).then((function(t){return e(t)})).catch((function(t){return o(t)}))}))},AddPageCont:function(t){return new Promise((function(e,o){n["a"].HttpPost("/api/WebsiteCms/ClientService/PageCont/AddPageCont",t).then((function(t){return e(t)})).catch((function(t){return o(t)}))}))},DelPageCont:function(t){return new Promise((function(e,o){n["a"].HttpPost("/api/WebsiteCms/ClientService/PageCont/DelPageCont",t).then((function(t){return e(t)})).catch((function(t){return o(t)}))}))},SetEnable:function(t,e){return new Promise((function(o,r){n["a"].HttpPost("/api/WebsiteCms/ClientService/PageCont/SetEnablePageCont?enable=".concat(t),e).then((function(t){return o(t)})).catch((function(t){return r(t)}))}))},GetDetail:function(t){return new Promise((function(e,o){n["a"].HttpGet("/api/WebsiteCms/ClientService/PageCont/GetPageContDetail?id=".concat(t)).then((function(t){return e(t)})).catch((function(t){return o(t)}))}))},EditPageCont:function(t,e){return new Promise((function(o,r){n["a"].HttpPost("/api/WebsiteCms/ClientService/PageCont/EditPageCont?id=".concat(e),t).then((function(t){return o(t)})).catch((function(t){return r(t)}))}))}}},a630:function(t,e,o){var n=o("23e7"),r=o("4df4"),i=o("1c7e"),a=!i((function(t){Array.from(t)}));n({target:"Array",stat:!0,forced:a},{from:r})},b4b9:function(t,e,o){"use strict";o("a434"),o("ac1f"),o("5319");function n(t,e){(null==e||e>t.length)&&(e=t.length);for(var o=0,n=new Array(e);o<e;o++)n[o]=t[o];return n}function r(t){if(Array.isArray(t))return n(t)}o("a4d3"),o("e01a"),o("d28b"),o("a630"),o("e260"),o("d3b7"),o("3ca3"),o("ddb0");function i(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}o("fb6a"),o("b0c0"),o("25f0");function a(t,e){if(t){if("string"===typeof t)return n(t,e);var o=Object.prototype.toString.call(t).slice(8,-1);return"Object"===o&&t.constructor&&(o=t.constructor.name),"Map"===o||"Set"===o?Array.from(o):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?n(t,e):void 0}}function c(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function s(t){return r(t)||i(t)||a(t)||c()}var l=o("ed08");e["a"]={data:function(){return{kwModelShow:!1,kwModelForm:{keyword:""}}},methods:{kwModelVisible:function(t){this.kwModelShow=t,t||(this.kwModelForm.keyword="")},removeKeyword:function(t){this.infoForm.metaKeywords.splice(t,1)},addKeywords:function(t){var e=this;this.$refs[t].validate((function(t){if(t){var o=e.kwModelForm.keyword.replace(/\s*/g,"");o=o.replace(/，/g,",");var n=Object(l["v"])(o,",");n=Object(l["b"])(n);var r=e.infoForm.metaKeywords;r.push.apply(r,s(n)),e.infoForm.metaKeywords=Object(l["x"])(r),e.kwModelVisible(!1)}else e.$Message.error("提交失败！填写有误")}))}}}},fb6a:function(t,e,o){"use strict";var n=o("23e7"),r=o("861d"),i=o("e8b5"),a=o("23cb"),c=o("50c4"),s=o("fc6a"),l=o("8418"),u=o("b622"),d=o("1dde"),f=o("ae40"),m=d("slice"),p=f("slice",{ACCESSORS:!0,0:0,1:2}),w=u("species"),b=[].slice,h=Math.max;n({target:"Array",proto:!0,forced:!m||!p},{slice:function(t,e){var o,n,u,d=s(this),f=c(d.length),m=a(t,f),p=a(void 0===e?f:e,f);if(i(d)&&(o=d.constructor,"function"!=typeof o||o!==Array&&!i(o.prototype)?r(o)&&(o=o[w],null===o&&(o=void 0)):o=void 0,o===Array||void 0===o))return b.call(d,m,p);for(n=new(void 0===o?Array:o)(h(p-m,0)),u=0;m<p;m++,u++)m in d&&l(n,u,d[m]);return n.length=u,n}})},fbe3:function(t,e,o){"use strict";var n=o("39c0"),r=o.n(n);r.a}}]);