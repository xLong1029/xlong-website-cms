(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-28ed316e"],{"10d1":function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"g-content"},[n("div",{staticClass:"m-operation"},[n("Button",{staticClass:"operation-btn",attrs:{disabled:0==t.selectList.length,type:"primary"},on:{click:function(e){return t.enableOrDisable(1)}}},[t._v("启用")]),n("Button",{staticClass:"operation-btn",attrs:{disabled:0==t.selectList.length,type:"warning"},on:{click:function(e){return t.enableOrDisable(-1)}}},[t._v("禁用")])],1),n("EditableTable",{attrs:{title:t.title,data:t.listData},on:{"on-save":t.saveThis,"on-select":t.getSelectRowData,"on-all-select":t.getSelectRowData}}),n("div",{staticClass:"clearfix"})],1)},a=[],r=(n("4160"),n("159b"),n("5530")),l=n("648f"),s=n("ed08"),c=n("975c"),o=n("19aae"),u=n("66fd"),d=n("2f62"),p={components:{EditableTable:l["a"]},mixins:[o["a"],u["a"]],computed:Object(r["a"])({},Object(d["b"])(["getImageUrl"]),{apiGetList:function(){return function(){return c["a"].GetBannerList({type:2})}},apiEdit:function(){var t=this;return function(){return c["a"].EditBanner(t.paramsForm,t.editId)}},apiEnable:function(){var t=this;return function(){return c["a"].SetEnable(1,t.selectList)}},apiDisable:function(){var t=this;return function(){return c["a"].SetEnable(2,t.selectList)}}}),data:function(){return{checkAll:!1,title:[{title:"全选",key:"selecAll",align:"center",type:"CheckBox",width:60},{title:"编号",key:"id",align:"center",type:"Text",width:60},{title:"板块名称",key:"sectionName",align:"center",type:"Text"},{title:"图片标题",key:"title",align:"center",type:"Input"},{title:"Banner图片",key:"imgUrl",align:"center",type:"UploadImg",equired:!0,width:250},{title:"跳转链接",key:"linkUrl",align:"center",type:"Input"},{title:"跳转类型",key:"target",align:"center",type:"Text"},{title:"状态",key:"isDisable",align:"center",type:"Text"},{title:"操作",key:"operate",align:"center",type:"Button",button:[{type:"primary",size:"small",minWidth:"64",text:"保存",click:"save"}],width:100}],listData:[],paramsForm:{type:2,target:2},editId:0,modelValidate:{imgUrl:[{required:!0,validator:function(t,e,n){return n()}}],target:[{required:!0,validator:function(t,e,n){return n()}}]}}},created:function(){this.$store.commit("common/SET_BREADCRUMB",[{name:"Banner管理",path:null},{name:"页面顶部Banner",path:null}]),this.getTableList(),this.initData(this.listData)},methods:{initData:function(t){t.length>0&&t.forEach((function(t){t.isCheck=!1}))},saveThis:function(t){console.log(t);var e=t.id,n=t.type,i=t.sectionType,a=t.title,r=t.linkUrl,l=t.target,s=t.imgUrl;s?(this.editId=e,this.paramsForm={type:n,sectionType:i,title:a,linkUrl:r,target:l,imgUrl:s},this.editData()):this.$Message.error("提交失败！请上传Banner图片")},getSelectRowData:function(t){var e=this;t.forEach((function(t){return e.selectList.push(t.id)}))},editData:function(){var t=this;this.apiEdit().then((function(e){t.pageLoading=!1,200==e.code?(t.$Message.success("编辑成功"),t.updateList(),t.clearSelect()):t.$Message.warning(e.msg)})).catch((function(){return t.$Message.error("编辑失败")}))},notFoundPic:function(t){Object(s["q"])(t,2)}}},g=p,h=(n("1f3a"),n("2877")),f=Object(h["a"])(g,i,a,!1,null,"7863570e",null);e["default"]=f.exports},"1f3a":function(t,e,n){"use strict";var i=n("3b77"),a=n.n(i);a.a},"3b77":function(t,e,n){}}]);