(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6d59e8b1"],{2158:function(t,n,e){"use strict";e("d3b7");var o=e("b775");n["a"]={GetCompanyIntro:function(){return new Promise((function(t,n){o["a"].HttpGet("/api/WebsiteCms/InfoService/Compnay/GetCompanyIntro").then((function(n){return t(n)})).catch((function(t){return n(t)}))}))},EditCompanyIntro:function(t){return new Promise((function(n,e){o["a"].HttpPost("/api/WebsiteCms/InfoService/Compnay/EditCompanyIntro",t).then((function(t){return n(t)})).catch((function(t){return e(t)}))}))},GetTeamContent:function(){return new Promise((function(t,n){o["a"].HttpGet("/api/WebsiteCms/InfoService/Team/GetContent").then((function(n){return t(n)})).catch((function(t){return n(t)}))}))},EditTeamContent:function(t){return new Promise((function(n,e){o["a"].HttpPost("/api/WebsiteCms/InfoService/Team/EditContent",t).then((function(t){return n(t)})).catch((function(t){return e(t)}))}))},GetContactList:function(){return new Promise((function(t,n){o["a"].HttpGet("/api/WebsiteCms/InfoService/Contact/GetList").then((function(n){return t(n)})).catch((function(t){return n(t)}))}))},EditContactInfo:function(t,n){return new Promise((function(e,i){o["a"].HttpPost("/api/WebsiteCms/InfoService/Contact/EditContact?id=".concat(n),t).then((function(t){return e(t)})).catch((function(t){return i(t)}))}))},AddContactInfo:function(t){return new Promise((function(n,e){o["a"].HttpPost("/api/WebsiteCms/InfoService/Contact/AddContact",t).then((function(t){return n(t)})).catch((function(t){return e(t)}))}))},DelContactInfo:function(t){return new Promise((function(n,e){o["a"].HttpPost("/api/WebsiteCms/InfoService/Contact/DelContact",t).then((function(t){return n(t)})).catch((function(t){return e(t)}))}))},SetEnableContact:function(t,n){return new Promise((function(e,i){o["a"].HttpPost("/api/WebsiteCms/InfoService/Contact/SetEnable?enable=".concat(t),n).then((function(t){return e(t)})).catch((function(t){return i(t)}))}))}}},6542:function(t,n,e){},"89b6":function(t,n,e){"use strict";e.r(n);var o=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"g-content"},[t.pageLoading?e("Loading"):e("div",[e("Form",{ref:"infoForm",attrs:{model:t.infoForm,rules:t.validate,"label-width":180}},[e("Form-item",{attrs:{label:"公司图片（用于首页）：",prop:"companyImg"}},[e("ImageCropper",{attrs:{src:t.infoForm.companyImg,"upload-dir":"img/company/",preview:!0,fileSize:200,"size-hint":"570*250px"},on:{"get-img-url":t.setPoster}})],1),e("Form-item",{attrs:{label:"公司简介（用于首页）：",prop:"companyIntro"}},[e("Input",{attrs:{type:"textarea",rows:3,placeholder:"请输入公司简介"},model:{value:t.infoForm.companyIntro,callback:function(n){t.$set(t.infoForm,"companyIntro",n)},expression:"infoForm.companyIntro"}})],1),e("Form-item",{attrs:{label:"公司介绍：",prop:"companyContent"}},[e("Tinymce",{attrs:{height:"500"},model:{value:t.infoForm.companyContent,callback:function(n){t.$set(t.infoForm,"companyContent",n)},expression:"infoForm.companyContent"}})],1),e("div",{staticClass:"m-operation"},[e("Button",{staticClass:"fr",attrs:{type:"primary"},on:{click:function(n){return t.submit("infoForm")}}},[t._v("确认修改")])],1),e("div",{staticClass:"clearfix"})],1)],1)],1)},i=[],r=e("be51"),a=e("e634"),c=e("557c"),s=e("2158"),u={components:{Loading:r["a"],ImageCropper:a["a"],Tinymce:c["a"]},data:function(){return{pageLoading:!0,infoForm:{companyImg:"",companyIntro:"",companyContent:""},validate:{companyIntro:[{required:!0,message:"公司简介不能为空",trigger:"blur"}],companyImg:[{required:!0,validator:function(t,n,e){return e()}}]}}},created:function(){this.init()},methods:{init:function(){this.$store.commit("common/SET_BREADCRUMB",[{name:"公司信息",path:null},{name:"公司介绍",path:null}]),this.getDetail()},submit:function(t){var n=this;this.$refs[t].validate((function(t){if(t){if(""==n.infoForm.companyImg)return n.$Message.error("请上传公司图片"),!1;n.pageLoading=!0,s["a"].EditCompanyIntro(n.infoForm).then((function(t){n.pageLoading=!1,200==t.code?(n.$Message.success("修改成功"),n.getDetail()):n.$Message.warning(t.msg)})).catch((function(t){return console.log(t)}))}else n.$Message.error("提交失败！填写有误")}))},getDetail:function(){var t=this;s["a"].GetCompanyIntro().then((function(n){t.pageLoading=!1,200==n.code?t.infoForm=n.data:t.$Message.warning(n.msg)})).catch((function(t){return console.log(t)}))},setPoster:function(t){this.infoForm.companyImg=t}}},m=u,f=(e("cea4"),e("2877")),p=Object(f["a"])(m,o,i,!1,null,"2491867a",null);n["default"]=p.exports},cea4:function(t,n,e){"use strict";var o=e("6542"),i=e.n(o);i.a}}]);