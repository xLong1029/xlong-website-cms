(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-b0d48a4a"],{"4df4":function(e,t,o){"use strict";var r=o("0366"),a=o("7b0b"),i=o("9bdd"),n=o("e95a"),s=o("50c4"),l=o("8418"),c=o("35a1");e.exports=function(e){var t,o,d,u,f,m,p=a(e),g="function"==typeof this?this:Array,h=arguments.length,w=h>1?arguments[1]:void 0,v=void 0!==w,b=c(p),y=0;if(v&&(w=r(w,h>2?arguments[2]:void 0,2)),void 0==b||g==Array&&n(b))for(t=s(p.length),o=new g(t);t>y;y++)m=v?w(p[y],y):p[y],l(o,y,m);else for(u=b.call(p),f=u.next,o=new g;!(d=f.call(u)).done;y++)m=v?i(u,w,[d.value,y],!0):d.value,l(o,y,m);return o.length=y,o}},"549a":function(e,t,o){"use strict";o("b0c0");var r=o("ed08");t["a"]={data:function(){return{format:["image/jpg","image/jpeg","image/png"],uploadStatus:"",showProgress:!1,loading:!1,showModal:!1,showMask:!1,percentage:0,getImageUrl:""}},methods:{viewImage:function(){this.showModal=!0},uploadClick:function(){this.$refs.imgFile.click()},selectFile:function(){var e=this.$refs.imgFile.files;if(e.length>0){var t=e[0].name,o=Math.floor(e[0].size/1024),r=this.fileSize,a=r+"kb";if(o>r)return r>1024&&(a=Math.floor(r/1024)+"M"),this.$Notice.warning({title:"超出文件大小限制",desc:"文件 "+t+" 太大，不能超过 "+a}),this.progressHide(),!1;this.uploadFile(e[0])}else console.log("获取不到文件列表")},progressShow:function(){this.loading=!0,this.uploadStatus="",this.percentage=0,this.showProgress=!0},progressHide:function(){this.loading=!1,this.uploadStatus="finished",this.showProgress=!1},notFoundPic:function(e){Object(r["q"])(e,2)},errorTip:function(e){this.progressHide(),clearInterval(e),this.$Notice.error({title:"图片上传失败，请重试！"})}}}},6857:function(e,t,o){},"6b9c":function(e,t,o){"use strict";o.r(t);var r=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"g-content"},[e.pageLoading?o("Loading"):o("Form",{ref:"infoForm",attrs:{model:e.infoForm,rules:e.validate,"label-width":120}},[o("Row",[o("i-col",{attrs:{span:"12"}},[o("Form-item",{attrs:{label:"网站LOGO：",prop:"logo"}},[o("SingleImage",{attrs:{src:e.infoForm.logo,"upload-dir":"img/logo/",preview:!0,"size-hint":"220*72px",fileSize:180},on:{"get-img-url":e.setPic}})],1),o("Form-item",{attrs:{label:"公司名称：",prop:"companyName"}},[o("Input",{attrs:{placeholder:"请输入公司名称"},model:{value:e.infoForm.companyName,callback:function(t){e.$set(e.infoForm,"companyName",t)},expression:"infoForm.companyName"}})],1),o("Form-item",{attrs:{label:"备案信息：",prop:"webRecordInfo"}},[o("Input",{attrs:{placeholder:"请输入备案信息"},model:{value:e.infoForm.webRecordInfo,callback:function(t){e.$set(e.infoForm,"webRecordInfo",t)},expression:"infoForm.webRecordInfo"}})],1),o("Form-item",{attrs:{label:"站点地址：",prop:"website"}},[o("Input",{attrs:{placeholder:"请输入站点地址"},model:{value:e.infoForm.website,callback:function(t){e.$set(e.infoForm,"website",t)},expression:"infoForm.website"}})],1),o("Form-item",{attrs:{label:"站点关键词：",prop:"metaKeywords"}},[e._l(e.infoForm.metaKeywords,(function(t,r){return o("Tag",{key:r,attrs:{name:t,closable:""},on:{"on-close":function(t){return e.removeKeyword(r)}}},[e._v(e._s(t))])})),o("Button",{attrs:{icon:"ios-add",type:"dashed",size:"small"},on:{click:function(t){return e.kwModelVisible(!0)}}},[e._v("添加关键词")])],2),o("Form-item",{attrs:{label:"站点描述："}},[o("Input",{attrs:{type:"textarea",rows:4,placeholder:"请输入站点描述"},model:{value:e.infoForm.metaDescription,callback:function(t){e.$set(e.infoForm,"metaDescription",t)},expression:"infoForm.metaDescription"}})],1),o("Form-item",[o("Button",{attrs:{type:"primary"},on:{click:function(t){return e.submit("infoForm")}}},[e._v("确认修改")])],1)],1)],1)],1),o("Modal",{attrs:{width:600,title:"添加关键词"},on:{"on-cancel":function(t){return e.kwModelVisible(!1)}},model:{value:e.kwModelShow,callback:function(t){e.kwModelShow=t},expression:"kwModelShow"}},[o("div",[o("Form",{ref:"kwModelForm",attrs:{model:e.kwModelForm,rules:e.validate,"label-width":80}},[o("Form-item",{attrs:{label:"关键词：",prop:"keyword"}},[o("Input",{attrs:{type:"textarea",placeholder:"请输入关键词"},model:{value:e.kwModelForm.keyword,callback:function(t){e.$set(e.kwModelForm,"keyword",t)},expression:"kwModelForm.keyword"}})],1),o("div",{staticClass:"hint"},[e._v('* 输入的关键词请以逗号" , "进行分隔')])],1)],1),o("div",{attrs:{slot:"footer"},slot:"footer"},[o("Button",{attrs:{type:"text"},on:{click:function(t){return e.kwModelVisible(!1)}}},[e._v("取消")]),o("Button",{attrs:{type:"primary"},on:{click:function(t){return e.addKeywords("kwModelForm")}}},[e._v("确认")])],1)])],1)},a=[],i=o("be51"),n=o("a6c3"),s=o("ed08"),l=o("b4b9"),c=o("2934"),d={components:{Loading:i["a"],SingleImage:n["a"]},mixins:[l["a"]],data:function(){return{pageLoading:!1,infoForm:{logo:"",webRecordInfo:"",companyName:"",website:"",metaKeywords:"",metaDescription:""},validate:{logo:[{required:!0,validator:function(e,t,o){return o()}}],companyName:[{required:!0,message:"公司名称不能为空",trigger:"blur"}],webRecordInfo:[{required:!0,message:"备案信息不能为空",trigger:"blur"}],website:[{required:!0,message:"站点地址不能为空",trigger:"blur"}],keyword:[{required:!0,message:"关键词不能为空",trigger:"blur"}]}}},created:function(){this.init()},methods:{init:function(){this.$store.commit("common/SET_BREADCRUMB",[{name:"站点管理",path:null},{name:"站点信息",path:null}]),this.getDetail()},submit:function(e){var t=this;this.$refs[e].validate((function(e){if(e){if(""==t.infoForm.logo)return t.$Message.error("请上传网站LOGO"),!1;t.pageLoading=!0,t.infoForm.metaKeywords=Object(s["c"])(t.infoForm.metaKeywords,","),c["a"].EditSiteInfo(t.infoForm).then((function(e){t.pageLoading=!1,200==e.code?(t.$Message.success("修改成功"),t.getDetail()):t.$Message.warning(e.msg)})).catch((function(e){return console.log(e)}))}else t.$Message.error("提交失败！填写有误")}))},getDetail:function(){var e=this;c["a"].GetSiteInfo().then((function(t){e.pageLoading=!1,200==t.code?(e.infoForm=t.data,e.infoForm.metaKeywords=t.data.metaKeywords?Object(s["v"])(t.data.metaKeywords,","):[],e.$store.commit("common/SET_SITE_INFO",e.infoForm)):e.$Message.warning(t.msg)})).catch((function(e){return console.log(e)}))},setPic:function(e){this.infoForm.logo=e}}},u=d,f=o("2877"),m=Object(f["a"])(u,r,a,!1,null,null,null);t["default"]=m.exports},"7ad9":function(e,t,o){"use strict";var r=o("e3da"),a=o.n(r);a.a},a33c:function(e,t,o){"use strict";var r=o("6857"),a=o.n(r);a.a},a630:function(e,t,o){var r=o("23e7"),a=o("4df4"),i=o("1c7e"),n=!i((function(e){Array.from(e)}));r({target:"Array",stat:!0,forced:n},{from:a})},a6c3:function(e,t,o){"use strict";var r=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"m-Upload",attrs:{id:"singleImage"}},[""!=e.getImageUrl?o("div",{staticClass:"upload-show"},[o("div",{staticClass:"upload-img-wrap"},[o("img",{staticClass:"upload-image",attrs:{src:e.GLOBAL.ShowImg(e.getImageUrl),alt:"图片加载失败"},on:{error:e.notFoundPic}})]),o("div",{staticClass:"upload-mask"},[e.preview?o("Icon",{staticStyle:{"margin-right":"15px"},attrs:{type:"ios-eye"},nativeOn:{click:function(t){return e.viewImage(t)}}}):e._e(),o("Icon",{attrs:{type:"md-create",size:"22"},nativeOn:{click:function(t){return e.uploadClick(t)}}})],1)]):e._e(),o("div",{directives:[{name:"show",rawName:"v-show",value:e.showUploadBtn,expression:"showUploadBtn"}],staticClass:"upload-btn",on:{click:e.uploadClick}},[o("Icon",{attrs:{type:"md-camera",size:"20"}}),o("input",{ref:"imgFile",attrs:{type:"file",accept:e.format,hidden:""},on:{change:e.selectFile}})],1),"finished"!=e.uploadStatus?[e.showProgress?o("Progress",{staticStyle:{width:"340px"},attrs:{percent:e.percentage,"hide-info":"","stroke-width":3}}):e._e()]:e._e(),o("span",{directives:[{name:"show",rawName:"v-show",value:e.showHint,expression:"showHint"}],staticClass:"hint"},[e._v(" * 图片格式要求：jpg、jpeg、png， "),e.sizeHint?o("span",[e._v("建议尺寸： "+e._s(e.sizeHint)+"，")]):e._e(),e._v(" 文件大小为 "),e.fileSize<1024?o("span",[e._v(e._s(e.fileSize)+"kb")]):o("span",[e._v(e._s(Math.floor(e.fileSize/1024))+"M")]),e._v(" 以内。 ")]),o("div",{staticClass:"clearfix"}),o("Modal",{staticClass:"m-view-img",staticStyle:{"z-index":"9999"},attrs:{title:"查看图片",width:"900"},model:{value:e.showModal,callback:function(t){e.showModal=t},expression:"showModal"}},[o("img",{attrs:{src:e.GLOBAL.ShowImg(e.getImageUrl)},on:{error:e.notFoundPic}}),o("div",{attrs:{slot:"footer"},slot:"footer"})])],2)},a=[],i=(o("a9e3"),o("549a")),n=o("2934"),s={name:"singleImage",mixins:[i["a"]],props:{src:{type:String,default:""},preview:{type:Boolean,default:!1},showHint:{type:Boolean,default:!0},sizeHint:{type:String,default:"100*100px"},fileSize:{type:Number,default:150},uploadDir:{type:String,default:"img/"},index:{type:Number,default:-1}},data:function(){return{showUploadBtn:!0,getImageUrl:""}},watch:{src:function(e){e?(this.showUploadBtn=!1,this.getImageUrl=e):(this.showUploadBtn=!0,this.getImageUrl="")}},created:function(){this.src&&(this.showUploadBtn=!1,this.getImageUrl=this.src)},methods:{uploadFile:function(e){var t=this;this.progressShow();var o=setInterval((function(){90==t.percentage&&clearInterval(o),t.percentage+=10}),100),r=new FormData;r.append("dir",this.uploadDir),r.append("file",e),n["a"].UploadImg(r).then((function(e){200==e.code?(t.getImageUrl=e.data.url,t.index<0?t.$emit("get-img-url",t.getImageUrl):t.$emit("get-img-url",t.getImageUrl,t.index),t.progressHide(),t.percentage=100,clearInterval(o),t.showUploadBtn=!1,t.$Notice.success({title:"图片上传成功!"})):t.errorTip(o)})).catch((function(){return t.errorTip(o)}))}}},l=s,c=(o("7ad9"),o("2877")),d=Object(c["a"])(l,r,a,!1,null,"2faf36c1",null);t["a"]=d.exports},a9e3:function(e,t,o){"use strict";var r=o("83ab"),a=o("da84"),i=o("94ca"),n=o("6eeb"),s=o("5135"),l=o("c6b6"),c=o("7156"),d=o("c04e"),u=o("d039"),f=o("7c73"),m=o("241c").f,p=o("06cf").f,g=o("9bf2").f,h=o("58a8").trim,w="Number",v=a[w],b=v.prototype,y=l(f(b))==w,F=function(e){var t,o,r,a,i,n,s,l,c=d(e,!1);if("string"==typeof c&&c.length>2)if(c=h(c),t=c.charCodeAt(0),43===t||45===t){if(o=c.charCodeAt(2),88===o||120===o)return NaN}else if(48===t){switch(c.charCodeAt(1)){case 66:case 98:r=2,a=49;break;case 79:case 111:r=8,a=55;break;default:return+c}for(i=c.slice(2),n=i.length,s=0;s<n;s++)if(l=i.charCodeAt(s),l<48||l>a)return NaN;return parseInt(i,r)}return+c};if(i(w,!v(" 0o1")||!v("0b1")||v("+0x1"))){for(var I,k=function(e){var t=arguments.length<1?0:e,o=this;return o instanceof k&&(y?u((function(){b.valueOf.call(o)})):l(o)!=w)?c(new v(F(t)),o,k):F(t)},S=r?m(v):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),M=0;S.length>M;M++)s(v,I=S[M])&&!s(k,I)&&g(k,I,p(v,I));k.prototype=b,b.constructor=k,n(a,w,k)}},b4b9:function(e,t,o){"use strict";o("a434"),o("ac1f"),o("5319");function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var o=0,r=new Array(t);o<t;o++)r[o]=e[o];return r}function a(e){if(Array.isArray(e))return r(e)}o("a4d3"),o("e01a"),o("d28b"),o("a630"),o("e260"),o("d3b7"),o("3ca3"),o("ddb0");function i(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}o("fb6a"),o("b0c0"),o("25f0");function n(e,t){if(e){if("string"===typeof e)return r(e,t);var o=Object.prototype.toString.call(e).slice(8,-1);return"Object"===o&&e.constructor&&(o=e.constructor.name),"Map"===o||"Set"===o?Array.from(o):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?r(e,t):void 0}}function s(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function l(e){return a(e)||i(e)||n(e)||s()}var c=o("ed08");t["a"]={data:function(){return{kwModelShow:!1,kwModelForm:{keyword:""}}},methods:{kwModelVisible:function(e){this.kwModelShow=e,e||(this.kwModelForm.keyword="")},removeKeyword:function(e){this.infoForm.metaKeywords.splice(e,1)},addKeywords:function(e){var t=this;this.$refs[e].validate((function(e){if(e){var o=t.kwModelForm.keyword.replace(/\s*/g,"");o=o.replace(/，/g,",");var r=Object(c["v"])(o,",");r=Object(c["b"])(r);var a=t.infoForm.metaKeywords;a.push.apply(a,l(r)),t.infoForm.metaKeywords=Object(c["x"])(a),t.kwModelVisible(!1)}else t.$Message.error("提交失败！填写有误")}))}}}},be51:function(e,t,o){"use strict";var r=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"page-load",attrs:{id:"loading"}},[o("Spin",[o("Icon",{staticClass:"spin-icon-load",attrs:{type:"load-c",size:"18"}}),o("div",[e._v("玩命加载中...")])],1)],1)},a=[],i={name:"loading",data:function(){return{}}},n=i,s=(o("a33c"),o("2877")),l=Object(s["a"])(n,r,a,!1,null,"55727dba",null);t["a"]=l.exports},e3da:function(e,t,o){},fb6a:function(e,t,o){"use strict";var r=o("23e7"),a=o("861d"),i=o("e8b5"),n=o("23cb"),s=o("50c4"),l=o("fc6a"),c=o("8418"),d=o("b622"),u=o("1dde"),f=o("ae40"),m=u("slice"),p=f("slice",{ACCESSORS:!0,0:0,1:2}),g=d("species"),h=[].slice,w=Math.max;r({target:"Array",proto:!0,forced:!m||!p},{slice:function(e,t){var o,r,d,u=l(this),f=s(u.length),m=n(e,f),p=n(void 0===t?f:t,f);if(i(u)&&(o=u.constructor,"function"!=typeof o||o!==Array&&!i(o.prototype)?a(o)&&(o=o[g],null===o&&(o=void 0)):o=void 0,o===Array||void 0===o))return h.call(u,m,p);for(r=new(void 0===o?Array:o)(w(p-m,0)),d=0;m<p;m++,d++)m in u&&c(r,d,u[m]);return r.length=d,r}})}}]);