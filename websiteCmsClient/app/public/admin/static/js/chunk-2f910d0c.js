(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2f910d0c"],{2158:function(t,e,n){"use strict";n("d3b7");var i=n("b775");e["a"]={GetCompanyIntro:function(){return new Promise((function(t,e){i["a"].HttpGet("/api/WebsiteCms/InfoService/Compnay/GetCompanyIntro").then((function(e){return t(e)})).catch((function(t){return e(t)}))}))},EditCompanyIntro:function(t){return new Promise((function(e,n){i["a"].HttpPost("/api/WebsiteCms/InfoService/Compnay/EditCompanyIntro",t).then((function(t){return e(t)})).catch((function(t){return n(t)}))}))},GetTeamContent:function(){return new Promise((function(t,e){i["a"].HttpGet("/api/WebsiteCms/InfoService/Team/GetContent").then((function(e){return t(e)})).catch((function(t){return e(t)}))}))},EditTeamContent:function(t){return new Promise((function(e,n){i["a"].HttpPost("/api/WebsiteCms/InfoService/Team/EditContent",t).then((function(t){return e(t)})).catch((function(t){return n(t)}))}))},GetContactList:function(){return new Promise((function(t,e){i["a"].HttpGet("/api/WebsiteCms/InfoService/Contact/GetList").then((function(e){return t(e)})).catch((function(t){return e(t)}))}))},EditContactInfo:function(t,e){return new Promise((function(n,a){i["a"].HttpPost("/api/WebsiteCms/InfoService/Contact/EditContact?id=".concat(e),t).then((function(t){return n(t)})).catch((function(t){return a(t)}))}))},AddContactInfo:function(t){return new Promise((function(e,n){i["a"].HttpPost("/api/WebsiteCms/InfoService/Contact/AddContact",t).then((function(t){return e(t)})).catch((function(t){return n(t)}))}))},DelContactInfo:function(t){return new Promise((function(e,n){i["a"].HttpPost("/api/WebsiteCms/InfoService/Contact/DelContact",t).then((function(t){return e(t)})).catch((function(t){return n(t)}))}))},SetEnableContact:function(t,e){return new Promise((function(n,a){i["a"].HttpPost("/api/WebsiteCms/InfoService/Contact/SetEnable?enable=".concat(t),e).then((function(t){return n(t)})).catch((function(t){return a(t)}))}))}}},"3da8":function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"g-content"},[t.pageLoading?n("Loading"):n("Form",{ref:"infoForm",attrs:{model:t.infoForm,rules:t.validate,"label-width":120}},[n("h2",{staticClass:"m-title"},[t._v("团队信息")]),n("div",{staticClass:"m-content"},[n("Row",[n("i-col",{attrs:{span:"12"}},[n("Form-item",{attrs:{label:"团队图片：",prop:"teamImg"}},[n("SingleImage",{attrs:{src:t.infoForm.teamImg,"upload-dir":"img/company/",preview:!0,"size-hint":"570*254px",fileSize:180},on:{"get-img-url":t.setPic}})],1),n("Form-item",{attrs:{label:"团队介绍：",prop:"teamIntro"}},[n("Input",{attrs:{type:"textarea",rows:4,placeholder:"请输入团队介绍"},model:{value:t.infoForm.teamIntro,callback:function(e){t.$set(t.infoForm,"teamIntro",e)},expression:"infoForm.teamIntro"}})],1)],1)],1)],1),n("h2",{staticClass:"m-title"},[t._v("团队技能")]),n("div",{staticClass:"m-content"},[t._l(t.infoForm.teamSkills,(function(e,i){return n("Row",{key:i},[n("i-col",{attrs:{span:"10"}},[n("FormItem",{attrs:{label:"技能"+(i+1)+"名称：",prop:"teamSkills."+i+".name",rules:t.validate.skillName}},[n("Input",{attrs:{placeholder:"请输入技能名称"},model:{value:e.name,callback:function(n){t.$set(e,"name",n)},expression:"item.name"}})],1),n("FormItem",{attrs:{label:"技能占比：",prop:"teamSkills."+i+".percent",rules:t.validate.skillPercent}},[n("Input",{staticStyle:{width:"50%"},attrs:{placeholder:"请输入技能占比"},model:{value:e.percent,callback:function(n){t.$set(e,"percent",n)},expression:"item.percent"}}),t._v(" % ")],1)],1),n("i-col",{attrs:{span:"4"}},[n("Button",{staticStyle:{"margin-left":"15px"},attrs:{type:"default"},on:{click:function(e){return t.removeSkill(i)}}},[t._v("删除该技能")])],1)],1)})),n("Row",[n("i-col",{attrs:{span:"12"}},[n("FormItem",[n("Button",{attrs:{type:"dashed",long:"",icon:"plus-round"},on:{click:t.addSkill}},[t._v("添加技能")])],1)],1)],1),n("Row",[n("i-col",{attrs:{span:"12"}},[n("FormItem",[n("Button",{attrs:{type:"primary"},on:{click:function(e){return t.submit("infoForm")}}},[t._v("确认修改")])],1)],1)],1)],2)])],1)},a=[],o=(n("a434"),n("be51")),r=n("a6c3"),s=n("2158"),c={components:{Loading:o["a"],SingleImage:r["a"]},data:function(){return{pageLoading:!0,infoForm:{teamImg:"",teamIntro:"",teamSkills:[{name:"技能名称",percent:0}]},validate:{teamIntro:[{required:!0,message:"团队介绍不能为空",trigger:"blur"}],teamImg:[{required:!0,validator:function(t,e,n){return n()}}],skillName:[{required:!0,message:"技能名称不能为空",trigger:"blur"}],skillPercent:[{required:!0,message:"技能占比不能为空",trigger:"blur"}]},linkManNum:1}},created:function(){this.init()},methods:{init:function(){this.$store.commit("common/SET_BREADCRUMB",[{name:"公司信息",path:null},{name:"团队介绍",path:null}]),this.getDetail()},submit:function(t){var e=this;this.$refs[t].validate((function(t){if(t){if(""==e.infoForm.teamImg)return e.$Message.error("请上传公司图片"),!1;e.pageLoading=!0,s["a"].EditTeamContent(e.infoForm).then((function(t){e.pageLoading=!1,200==t.code?(e.$Message.success("修改成功"),e.getDetail()):e.$Message.warning(t.msg)})).catch((function(t){return console.log(t)}))}else e.$Message.error("提交失败！填写有误")}))},getDetail:function(){var t=this;s["a"].GetTeamContent().then((function(e){t.pageLoading=!1,200==e.code?t.infoForm=e.data:t.$Message.warning(e.msg)})).catch((function(t){return console.log(t)}))},setPic:function(t){this.infoForm.teamImg=t},addSkill:function(){this.SkillNum++,this.infoForm.teamSkills.push({name:"",percent:""})},removeSkill:function(t){if(this.SkillNum<=1)return this.$Message.error("不可删除!至少要有1个技能信息"),!1;this.infoForm.teamSkills.splice(t,1),this.SkillNum--}}},l=c,u=n("2877"),m=Object(u["a"])(l,i,a,!1,null,null,null);e["default"]=m.exports},"549a":function(t,e,n){"use strict";n("b0c0");var i=n("ed08");e["a"]={data:function(){return{format:["image/jpg","image/jpeg","image/png"],uploadStatus:"",showProgress:!1,loading:!1,showModal:!1,showMask:!1,percentage:0,getImageUrl:""}},methods:{viewImage:function(){this.showModal=!0},uploadClick:function(){this.$refs.imgFile.click()},selectFile:function(){var t=this.$refs.imgFile.files;if(t.length>0){var e=t[0].name,n=Math.floor(t[0].size/1024),i=this.fileSize,a=i+"kb";if(n>i)return i>1024&&(a=Math.floor(i/1024)+"M"),this.$Notice.warning({title:"超出文件大小限制",desc:"文件 "+e+" 太大，不能超过 "+a}),this.progressHide(),!1;this.uploadFile(t[0])}else console.log("获取不到文件列表")},progressShow:function(){this.loading=!0,this.uploadStatus="",this.percentage=0,this.showProgress=!0},progressHide:function(){this.loading=!1,this.uploadStatus="finished",this.showProgress=!1},notFoundPic:function(t){Object(i["q"])(t,2)},errorTip:function(t){this.progressHide(),clearInterval(t),this.$Notice.error({title:"图片上传失败，请重试！"})}}}},6857:function(t,e,n){},"7ad9":function(t,e,n){"use strict";var i=n("e3da"),a=n.n(i);a.a},a33c:function(t,e,n){"use strict";var i=n("6857"),a=n.n(i);a.a},a6c3:function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"m-Upload",attrs:{id:"singleImage"}},[""!=t.getImageUrl?n("div",{staticClass:"upload-show"},[n("div",{staticClass:"upload-img-wrap"},[n("img",{staticClass:"upload-image",attrs:{src:t.GLOBAL.ShowImg(t.getImageUrl),alt:"图片加载失败"},on:{error:t.notFoundPic}})]),n("div",{staticClass:"upload-mask"},[t.preview?n("Icon",{staticStyle:{"margin-right":"15px"},attrs:{type:"ios-eye"},nativeOn:{click:function(e){return t.viewImage(e)}}}):t._e(),n("Icon",{attrs:{type:"md-create",size:"22"},nativeOn:{click:function(e){return t.uploadClick(e)}}})],1)]):t._e(),n("div",{directives:[{name:"show",rawName:"v-show",value:t.showUploadBtn,expression:"showUploadBtn"}],staticClass:"upload-btn",on:{click:t.uploadClick}},[n("Icon",{attrs:{type:"md-camera",size:"20"}}),n("input",{ref:"imgFile",attrs:{type:"file",accept:t.format,hidden:""},on:{change:t.selectFile}})],1),"finished"!=t.uploadStatus?[t.showProgress?n("Progress",{staticStyle:{width:"340px"},attrs:{percent:t.percentage,"hide-info":"","stroke-width":3}}):t._e()]:t._e(),n("span",{directives:[{name:"show",rawName:"v-show",value:t.showHint,expression:"showHint"}],staticClass:"hint"},[t._v(" * 图片格式要求：jpg、jpeg、png， "),t.sizeHint?n("span",[t._v("建议尺寸： "+t._s(t.sizeHint)+"，")]):t._e(),t._v(" 文件大小为 "),t.fileSize<1024?n("span",[t._v(t._s(t.fileSize)+"kb")]):n("span",[t._v(t._s(Math.floor(t.fileSize/1024))+"M")]),t._v(" 以内。 ")]),n("div",{staticClass:"clearfix"}),n("Modal",{staticClass:"m-view-img",staticStyle:{"z-index":"9999"},attrs:{title:"查看图片",width:"900"},model:{value:t.showModal,callback:function(e){t.showModal=e},expression:"showModal"}},[n("img",{attrs:{src:t.GLOBAL.ShowImg(t.getImageUrl)},on:{error:t.notFoundPic}}),n("div",{attrs:{slot:"footer"},slot:"footer"})])],2)},a=[],o=(n("a9e3"),n("549a")),r=n("2934"),s={name:"singleImage",mixins:[o["a"]],props:{src:{type:String,default:""},preview:{type:Boolean,default:!1},showHint:{type:Boolean,default:!0},sizeHint:{type:String,default:"100*100px"},fileSize:{type:Number,default:150},uploadDir:{type:String,default:"img/"},index:{type:Number,default:-1}},data:function(){return{showUploadBtn:!0,getImageUrl:""}},watch:{src:function(t){t?(this.showUploadBtn=!1,this.getImageUrl=t):(this.showUploadBtn=!0,this.getImageUrl="")}},created:function(){this.src&&(this.showUploadBtn=!1,this.getImageUrl=this.src)},methods:{uploadFile:function(t){var e=this;this.progressShow();var n=setInterval((function(){90==e.percentage&&clearInterval(n),e.percentage+=10}),100),i=new FormData;i.append("dir",this.uploadDir),i.append("file",t),r["a"].UploadImg(i).then((function(t){200==t.code?(e.getImageUrl=t.data.url,e.index<0?e.$emit("get-img-url",e.getImageUrl):e.$emit("get-img-url",e.getImageUrl,e.index),e.progressHide(),e.percentage=100,clearInterval(n),e.showUploadBtn=!1,e.$Notice.success({title:"图片上传成功!"})):e.errorTip(n)})).catch((function(){return e.errorTip(n)}))}}},c=s,l=(n("7ad9"),n("2877")),u=Object(l["a"])(c,i,a,!1,null,"2faf36c1",null);e["a"]=u.exports},a9e3:function(t,e,n){"use strict";var i=n("83ab"),a=n("da84"),o=n("94ca"),r=n("6eeb"),s=n("5135"),c=n("c6b6"),l=n("7156"),u=n("c04e"),m=n("d039"),f=n("7c73"),p=n("241c").f,d=n("06cf").f,g=n("9bf2").f,h=n("58a8").trim,v="Number",I=a[v],w=I.prototype,C=c(f(w))==v,S=function(t){var e,n,i,a,o,r,s,c,l=u(t,!1);if("string"==typeof l&&l.length>2)if(l=h(l),e=l.charCodeAt(0),43===e||45===e){if(n=l.charCodeAt(2),88===n||120===n)return NaN}else if(48===e){switch(l.charCodeAt(1)){case 66:case 98:i=2,a=49;break;case 79:case 111:i=8,a=55;break;default:return+l}for(o=l.slice(2),r=o.length,s=0;s<r;s++)if(c=o.charCodeAt(s),c<48||c>a)return NaN;return parseInt(o,i)}return+l};if(o(v,!I(" 0o1")||!I("0b1")||I("+0x1"))){for(var b,k=function(t){var e=arguments.length<1?0:t,n=this;return n instanceof k&&(C?m((function(){w.valueOf.call(n)})):c(n)!=v)?l(new I(S(e)),n,k):S(e)},F=i?p(I):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),_=0;F.length>_;_++)s(I,b=F[_])&&!s(k,b)&&g(k,b,d(I,b));k.prototype=w,w.constructor=k,r(a,v,k)}},be51:function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"page-load",attrs:{id:"loading"}},[n("Spin",[n("Icon",{staticClass:"spin-icon-load",attrs:{type:"load-c",size:"18"}}),n("div",[t._v("玩命加载中...")])],1)],1)},a=[],o={name:"loading",data:function(){return{}}},r=o,s=(n("a33c"),n("2877")),c=Object(s["a"])(r,i,a,!1,null,"55727dba",null);e["a"]=c.exports},e3da:function(t,e,n){}}]);