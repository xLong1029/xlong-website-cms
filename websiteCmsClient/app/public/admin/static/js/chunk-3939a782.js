(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3939a782"],{"17be":function(e,t,n){e.exports=n.p+"static/img/logo.jpg"},3798:function(e,t,n){},"7dff":function(e,t,n){"use strict";var o=n("3798"),r=n.n(o);r.a},e426:function(e,t,n){"use strict";n.r(t);var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"m-login",attrs:{id:"login"}},[n("Form",{ref:"loginForm",staticClass:"login-form",attrs:{model:e.loginForm,rules:e.validate}},[n("h3",{staticClass:"form-title"},[n("a",{attrs:{href:"/"}},[n("img",{attrs:{src:e.GLOBAL.ShowImg(e.siteInfo.logo)}})])]),n("Form-item",{attrs:{prop:"username"}},[n("Input",{attrs:{placeholder:"请输入手机号码"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.submit("loginForm")}},model:{value:e.loginForm.username,callback:function(t){e.$set(e.loginForm,"username",t)},expression:"loginForm.username"}},[n("Icon",{attrs:{slot:"prepend",type:"md-person"},slot:"prepend"})],1)],1),n("Form-item",{attrs:{prop:"password"}},[n("Input",{attrs:{type:"password",placeholder:"请输入密码"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.submit("loginForm")}},model:{value:e.loginForm.password,callback:function(t){e.$set(e.loginForm,"password",t)},expression:"loginForm.password"}},[n("Icon",{attrs:{slot:"prepend",type:"md-key"},slot:"prepend"})],1)],1),n("Form-item",[n("Checkbox",{model:{value:e.remeberPwd,callback:function(t){e.remeberPwd=t},expression:"remeberPwd"}},[e._v("记住密码")])],1),n("Form-item",[n("Button",{attrs:{type:"primary",long:"",loading:e.loading},on:{click:function(t){return e.submit("loginForm")}}},[e._v("登录")])],1),n("div",{staticStyle:{"text-align":"center"}},[e._v("超级管理员，登录账号:admin 密码:admin123")]),n("div",{staticStyle:{"text-align":"center"}},[e._v("普通管理员，登录账号:manager 密码:123456")]),n("div",{staticStyle:{"text-align":"center"}},[e._v("文章管理员，登录账号:editor 密码:123456")])],1),n("div",{staticClass:"copyright"},[e._v("Copyright © 2019 "+e._s(e.siteInfo.companyName)+" 版权所有 "+e._s(e.siteInfo.webRecordInfo))])],1)},r=[],s=n("ed08"),i=n("34aa"),a=n("2934"),l={data:function(){return{loading:!1,siteInfo:{logo:n("17be"),webRecordInfo:"",companyName:"",website:""},loginForm:{username:"",password:""},remeberPwd:!1,validate:{username:[{required:!0,message:"用户名不能为空",trigger:"blur"},{pattern:/^[\S]+$/,message:"请不要输入空字符",trigger:"blur"}],password:[{required:!0,message:"登录密码不能为空",trigger:"blur"}]}}},created:function(){this.init()},mounted:function(){var e=document.getElementById("login");e.style.height=document.body.scrollHeight+"px",window.onresize=function(){e.style.height=document.body.scrollHeight+"px"}},methods:{init:function(){var e=this;Object(s["k"])("username")&&(this.loginForm.username=Object(s["k"])("username"),this.loginForm.password=Object(s["e"])(Object(s["k"])("password")),this.remeberPwd=!0),a["a"].GetSiteInfo().then((function(t){e.pageLoading=!1,200==t.code?(e.siteInfo=t.data,e.$store.commit("common/SET_SITE_INFO",t.data)):e.$Message.warning(t.msg)})).catch((function(e){return console.log(e)}))},submit:function(e){var t=this;this.$refs[e].validate((function(e){e?i["a"].Login(t.loginForm).then((function(e){if(200==e.code){var n=e.data;Object(s["p"])("xlong_token",n.token),t.remeberPwd?(Object(s["r"])("username",t.loginForm.username),Object(s["r"])("password",Object(s["h"])(t.loginForm.password))):(Object(s["g"])("username"),Object(s["g"])("password")),t.$store.commit("user/SET_USER_TOKEN",n.token),t.$router.push({name:"Main"}),t.$Message.success("登录成功!")}else t.$Message.warning(e.msg)})).catch((function(e){return console.log(e)})):t.$Message.error("登录失败!填写有误！")}))}}},c=l,m=(n("7dff"),n("2877")),d=Object(m["a"])(c,o,r,!1,null,"da6801fa",null);t["default"]=d.exports}}]);